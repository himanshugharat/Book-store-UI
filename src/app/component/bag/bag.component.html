<app-header></app-header>
<div>
  <div fxFlex="10%"></div>
  <div fxFlex="60%">
    <mat-card>
      <mat-accordion class="headers-align" *ngFor="let book of bagBook">
        <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              My Cart
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div fxLayout="row wrap" fxLayoutGap="2%">
            <span>
              <img mat-panel-image src="{{book.image}}">
            </span>
            <span>
              <mat-card-title>{{book.title}}</mat-card-title>
              <mat-card-subtitle>by {{book.author}}</mat-card-subtitle>
              <mat-card-content> <b>Rs {{book.price}} <del>{{book.price+100}}</del></b></mat-card-content>
              <button mat-icon-button (click)="removeItem()">
                <mat-icon>remove_circle_outline</mat-icon>
              </button>
              {{noOfItem}}
              <button mat-icon-button (click)="addItem()">
                <mat-icon>add_circle_outline</mat-icon>
              </button>
              <button mat-button>
                remove
              </button>
            </span>
          </div>
          <mat-action-row>
            <button mat-button color="primary" (click)="nextStep()">Next</button>
          </mat-action-row>
        </mat-expansion-panel>
        <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Customer Details
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div fxFlex="60%" [formGroup]="CustomerForm">
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Full Name</mat-label>
              <input matInput formControlName="name" required>
            </mat-form-field>
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>Phone Number</mat-label>
              <input matInput type="tel" formControlName="phone" required>
            </mat-form-field>
            <mat-form-field appearance="outline" class="getInput">
              <mat-label>Address</mat-label>
              <input matInput formControlName="address" required>
            </mat-form-field>
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>City/Town</mat-label>
              <input matInput formControlName="city" required>
            </mat-form-field>
            <mat-form-field appearance="outline" class="form-field">
              <mat-label>state</mat-label>
              <input matInput formControlName="state" required>
            </mat-form-field>
          </div>
          <mat-action-row>
            <button mat-button color="warn" (click)="prevStep()">Previous</button>
            <button mat-button color="primary" [disabled]="!CustomerForm.valid"
              (click)="nextStep();custDetail(CustomerForm.value);CustomerForm.reset()">Next</button>
          </mat-action-row>
        </mat-expansion-panel>
        <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              Order summary
            </mat-panel-title>
          </mat-expansion-panel-header>
          <div fxLayout="row wrap" fxLayoutGap="2%">
            <span>
              <img mat-panel-image src="{{book.image}}">
            </span>
            <span>
              <mat-card-title>{{book.title}}</mat-card-title>
              <mat-card-subtitle>by {{book.author}}</mat-card-subtitle>
              <mat-card-content> <b> total amount :- Rs {{book.price*noOfItem}} </b></mat-card-content>
            </span>
          </div>
          <mat-action-row>
            <button mat-raised-button color="primary" (click)="nextStep();addDataToOrder()">Checkout</button>
          </mat-action-row>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-card>
  </div>
</div>
<app-footer></app-footer>